% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract.R
\name{extract_specific_skills_cpi3}
\alias{extract_specific_skills_cpi3}
\title{Extract non-diffuse skills at the CPI3 profession level}
\usage{
extract_specific_skills_cpi3(ann, ski, cpi_esco, quantile_trim = 0.025)
}
\arguments{
\item{ann}{A \code{data.table} of announcements with at least columns
\code{general_id} and \code{idesco_level_4}.}

\item{ski}{A \code{data.table} of skills with at least columns \code{general_id}
and \code{escoskill_level_3}.}

\item{cpi_esco}{A \code{data.table} crosswalk mapping \code{idesco_level_4} to
\code{cod_3} and \code{nome_3}. Typically built by the crosswalk pipeline.}

\item{quantile_trim}{Numeric, quantile threshold for IDF diffusion
classification. Default: 0.025.}
}
\value{
A \code{data.table} with columns \code{general_id}, \code{escoskill_level_3},
\code{cod_3}, \code{nome_3}. Only non-diffuse (specific) skills are included.
}
\description{
Merges job announcements with skills through a CPI-ESCO crosswalk at
the CPI 3-digit level. Skills classified as highly diffuse (based on
IDF) are removed, retaining only profession-specific skills.
}
\details{
The pipeline reproduces the logic from the extraction script:
\enumerate{
\item Merge announcements with the crosswalk on \code{idesco_level_4}.
\item Merge with skills on \code{general_id}.
\item Compute document-level IDF, classify diffuse skills.
\item Filter to non-diffuse ("specifiche") skills.
}
}
