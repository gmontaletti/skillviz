% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract.R
\name{build_profession_skill_profile}
\alias{build_profession_skill_profile}
\title{Build a comprehensive profession-skill profile table}
\usage{
build_profession_skill_profile(ann, ski, isco, skillist, cooc = NULL)
}
\arguments{
\item{ann}{A \code{data.table} of announcements with at least \code{general_id},
\code{idesco_level_4}, \code{gdate}, \code{edate}.}

\item{ski}{A \code{data.table} of skills with at least \code{general_id} and
\code{ESCOSKILL_LEVEL_3}.}

\item{isco}{A \code{data.table} of ISCO groups with at least \code{code} and
\code{preferredLabel}.}

\item{skillist}{A \code{data.table} master skills list with at least
\code{ESCOSKILL_LEVEL_3} (or \code{escoskill_level_3}) and \code{diffusione}.}

\item{cooc}{Optional \code{data.table} co-occurrence edge list with \code{from},
\code{to}, \code{weight}. If provided, it is returned unmodified as an
attribute of the output for downstream graph analysis.}
}
\value{
A \code{data.table} with columns \code{preferredLabel}, \code{ESCOSKILL_LEVEL_3},
\code{diffusione}, and \code{annunci} (number of unique announcements per
profession-skill pair).
}
\description{
Joins announcements, skills, ISCO classification, a master skills list,
and co-occurrence data into a single profession-skill table. This
reproduces the join logic from the profession-skill exploration script
(08_ski_ann_stru.R).
}
\details{
Steps:
\enumerate{
\item Merge announcements with ISCO to get \code{preferredLabel}.
\item Merge skills with announcements on \code{general_id}.
\item Merge with the master skills list for diffusion metadata.
\item Aggregate to profession-skill level with announcement counts.
}
}
