[{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"CLAUDE.md","text":"skillviz — R package skill co-occurrence analysis visualization Online Job Advertising (OJA) data. Provides functions Balassa index computation, TF-IDF skill diffusion, co-occurrence networks, source stability filtering, salary analysis, professional clustering, temporal skill ranking. Built ESCO CP2021 taxonomies. Author/Maintainer: Giampaolo Montaletti (giampaolo.montaletti@gmail.com)","code":""},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"build-and-test","dir":"","previous_headings":"","what":"Build and Test","title":"CLAUDE.md","text":"","code":"devtools::document()    # generate NAMESPACE and man/ from roxygen2 devtools::check()       # R CMD check devtools::test()        # run testthat suite devtools::install()     # install locally"},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"git-operations-section","dir":"","previous_headings":"","what":"Git Operations section","title":"CLAUDE.md","text":"asked commit push, quickly directly. -analyze repo state, explore untracked files extensively, ask unnecessary clarifying questions. git repo exists, create one set remote without asking.","code":""},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"debugging--bug-fixes","dir":"","previous_headings":"","what":"Debugging & Bug Fixes","title":"CLAUDE.md","text":"investigating bugs inconsistencies, always deeply investigate root cause FIRST. apply superficial quick fixes. Trace issue full code path proposing changes.","code":""},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"general-behavior","dir":"","previous_headings":"","what":"General Behavior","title":"CLAUDE.md","text":"enter plan-mode unless explicitly asked plan. asked fix something, apply fix directly. asked implement something, write code — don’t just write plan document.","code":""},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"tech-stack--conventions","dir":"","previous_headings":"","what":"Tech Stack & Conventions","title":"CLAUDE.md","text":"project uses R extensively. Key tools: targets (pipeline), testthat (testing), pkgdown (docs), flexdashboard/Shiny (dashboards), tsibble/fable/fabletools (forecasting). Always run devtools::test() modifying R package code. working PostgreSQL, always check correct schema (usually ‘public’) running queries.","code":""},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"r-specific-gotchas","dir":"","previous_headings":"","what":"R-Specific Gotchas","title":"CLAUDE.md","text":"running R scripts targets pipelines, watch silent error swallowing via tryCatch. script completes output empty results, immediately check error handling re-running.","code":""},{"path":[]},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"dependencies","dir":"","previous_headings":"","what":"Dependencies","title":"CLAUDE.md","text":"Imports: data.table, fst, igraph, Matrix, collapse Suggests: ggplot2, ggraph, tidygraph, tsibble, feasts, fable, fabletools, readxl, RPostgres, DBI, lubridate, testthat Functions using Suggests packages call check_suggests() use.","code":""},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"coding-conventions","dir":"","previous_headings":"","what":"Coding Conventions","title":"CLAUDE.md","text":"data.table data manipulation, tidyverse core functions Section comments: # 1. section name ----- Internal functions prefixed . (e.g., .cooc_single) exported functions roxygen2 docs @param, @return, @export hardcoded file paths — data passed function parameters","code":""},{"path":"https://gmontaletti.github.io/skillviz/CLAUDE.html","id":"related-projects","dir":"","previous_headings":"","what":"Related Projects","title":"CLAUDE.md","text":"n_annunci (../n_annunci/) — original exploratory scripts skillviz_workflow (../skillviz_workflow/) — targets pipeline using package","code":""},{"path":"https://gmontaletti.github.io/skillviz/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Giampaolo Montaletti Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Comprehensive Guide to skillviz","text":"skillviz R package analyzing skill requirements Online Job Advertising (OJA) data. provides coherent set functions computing skill specialization indices, co-occurrence networks, source stability filtering, salary analysis, professional distance clustering, temporal skill ranking. package built around two classification systems: ESCO (European Skills, Competences, Qualifications Occupations) – European multilingual taxonomy classifies occupations (ISCO-based) skills hierarchical structure. CP2021 (Classificazione delle Professioni 2021) – Italian national professional classification maintained ISTAT, structured multiple digit levels (e.g., 3-digit groups). analytical framework follows pipeline approach: raw OJA records loaded, deduplicated, enriched profession skill labels crosswalk tables, processed series quantitative modules – skill relevance computation network analysis temporal tracking. core functions use data.table data manipulation. Optional visualization time-series features depend suggested packages (ggplot2, ggraph, tsibble, etc.) checked runtime.","code":"library(skillviz) library(data.table)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"data-preparation","dir":"Articles","previous_headings":"","what":"Data Preparation","title":"Comprehensive Guide to skillviz","text":"first step skillviz workflow loading cleaning raw OJA data. package provides three functions purpose.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"read_esco_mapping","dir":"Articles","previous_headings":"Data Preparation","what":"read_esco_mapping()","title":"Comprehensive Guide to skillviz","text":"Reads CPI--ESCO level 4 mapping table either database connection .fst file disk. mapping used link job announcements (coded ESCO) Italian professional classification. returned data.table contains least columns:","code":"# 1. read from fst file ----- esco_mapping <- read_esco_mapping(file = \"path/to/mappa_cpv_esco_iv.fst\")  # 2. read from database ----- # conn <- DBI::dbConnect(RPostgres::Postgres(), ...) # esco_mapping <- read_esco_mapping(conn = conn)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"read_isco_groups","dir":"Articles","previous_headings":"Data Preparation","what":"read_isco_groups()","title":"Comprehensive Guide to skillviz","text":"Reads ISCOGroups*.csv file ESCO classification dataset directory. provides hierarchical occupation structure. result data.table columns including code preferredLabel.","code":"isco <- read_isco_groups(\"path/to/ESCO dataset - v1.1.1 - classification - it - csv\")"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"deduplicate_annunci","dir":"Articles","previous_headings":"Data Preparation","what":"deduplicate_annunci()","title":"Comprehensive Guide to skillviz","text":"Job announcements OJA databases often contain duplicate rows per general_id. function collapses duplicates keeping modal values categorical columns (via collapse::fmode()) computing activity flag. Output columns: general_id, N (original row count), idcity (modal), idesco_level_4 (modal), attivo (1 row active, 0 otherwise).","code":"# 1. synthetic announcement data ----- ann_raw <- data.table(   general_id   = c(1, 1, 2, 2, 2, 3),   idcity       = c(101, 101, 202, 202, 203, 101),   idesco_level_4 = c(\"E001\", \"E001\", \"E002\", \"E002\", \"E002\", \"E001\"),   xdata        = as.IDate(c(\"2024-01-15\", \"2024-01-16\", \"2024-06-01\",                              \"2024-06-02\", \"2024-06-03\", \"2024-12-01\")) )  # 2. deduplicate ----- ann_dedup <- deduplicate_annunci(ann_raw, active_date = as.IDate(\"2024-11-01\"))"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"classification-crosswalks","dir":"Articles","previous_headings":"","what":"Classification Crosswalks","title":"Comprehensive Guide to skillviz","text":"mapping data loaded, functions link ESCO occupation codes CP2021 profession groups enrich announcements geographic information.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"build_cpi_esco_crosswalk","dir":"Articles","previous_headings":"Classification Crosswalks","what":"build_cpi_esco_crosswalk()","title":"Comprehensive Guide to skillviz","text":"Merges ESCO mapping CP2021 level 3 classification produce lookup table mapping idesco_level_4 Italian ESCO label CP2021 3-digit group. Output columns: idesco_level_4, it_esco_level_4 (collapsed Italian labels), cod_3, nome_3.","code":"# 1. synthetic inputs ----- esco_mapping <- data.table(   idesco_level_4 = c(\"E001\", \"E002\", \"E003\"),   esco_level_4   = c(\"Software developer\", \"Data analyst\", \"System admin\"),   idcp_2011_v    = c(\"2.1.1.4.1\", \"2.1.1.5.2\", \"2.1.1.4.3\") )  cpi3 <- data.table(   cod_3  = c(\"2.1.1\", \"2.1.2\"),   nome_3 = c(\"ICT specialists\", \"Engineering technicians\") )  # 2. build crosswalk ----- crosswalk <- build_cpi_esco_crosswalk(esco_mapping, cpi3)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"prepare_annunci_esco","dir":"Articles","previous_headings":"Classification Crosswalks","what":"prepare_annunci_esco()","title":"Comprehensive Guide to skillviz","text":"Joins announcements ESCO mapping add Italian profession labels parses year/month/day columns proper IDate fields. Output columns: general_id, gdate (grab date IDate), idesco_level_4, it_esco_level_4.","code":"# 1. synthetic announcement data ----- ann <- data.table(   general_id       = c(1, 2, 3),   idesco_level_4   = c(\"E001\", \"E002\", \"E001\"),   year_grab_date   = c(2024L, 2024L, 2024L),   month_grab_date  = c(1L, 3L, 6L),   day_grab_date    = c(15L, 10L, 20L),   year_expire_date = c(2024L, 2024L, 2024L),   month_expire_date = c(2L, 4L, 7L),   day_expire_date  = c(15L, 10L, 20L) )  # 2. prepare ----- ann_esco <- prepare_annunci_esco(ann, esco_mapping)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"prepare_annunci_geography","dir":"Articles","previous_headings":"Classification Crosswalks","what":"prepare_annunci_geography()","title":"Comprehensive Guide to skillviz","text":"Merges announcements ESCO labels territorial mapping table add CPI (Centro per l’Impiego) dimension, aggregates unique announcement counts CPI, profession, year. Output columns: CPI, it_esco_level_4, year_grab_date, N.","code":"# 1. territorial table ----- territoriale <- data.table(   COD_ISTAT       = c(101L, 202L, 303L),   CPI             = c(\"CPI Trento\", \"CPI Rovereto\", \"CPI Riva\"),   COD_REGIONE_PAUT = c(10L, 10L, 10L) )  # 2. prepare with geographic dimension ----- ann_geo <- prepare_annunci_geography(   ann, esco_mapping, territoriale, regione = 10L )"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"skill-relevance-analysis","dir":"Articles","previous_headings":"","what":"Skill Relevance Analysis","title":"Comprehensive Guide to skillviz","text":"module provides methods measuring relevant specific skill given profession. core concepts Balassa index (Revealed Comparative Advantage) TF-IDF-based diffusion classification.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_balassa_index","dir":"Articles","previous_headings":"Skill Relevance Analysis","what":"compute_balassa_index()","title":"Comprehensive Guide to skillviz","text":"Balassa index (also known Revealed Comparative Advantage, RCA) standard measure international trade economics, adapted skill analysis. profession-skill pair, index computes: B=Nskill,prof/NprofNskill,/NallB = \\frac{N_{skill,prof} / N_{prof}}{N_{skill,} / N_{}} value B >= 1 indicates skill -represented profession relative overall frequency – .e., skill “specific” profession. Output columns: preferredLabel, escoskill_level_3, N, tutte_professioni, tutte_le_skills_della_professione, tutte_le_ricorrenze, balassa_index, specializzazione (“specifica” B >= 1, “non specifica” otherwise).","code":"# 1. synthetic skill occurrence data ----- skills <- data.table(   preferredLabel    = c(rep(\"Software developer\", 5),                         rep(\"Data analyst\", 4),                         rep(\"Software developer\", 3)),   escoskill_level_3 = c(\"Python\", \"Java\", \"SQL\", \"Docker\", \"Git\",                         \"Python\", \"SQL\", \"Statistics\", \"Excel\",                         \"Python\", \"Java\", \"Docker\") )  # 2. compute Balassa index ----- balassa <- compute_balassa_index(skills)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_skill_diffusion","dir":"Articles","previous_headings":"Skill Relevance Analysis","what":"compute_skill_diffusion()","title":"Comprehensive Guide to skillviz","text":"function applies TF-IDF (Term Frequency - Inverse Document Frequency) approach classify skills diffusion level. TF measures frequently skill appears relative total occurrences; IDF penalizes skills appear everywhere computing log(N_total / N_skill). Skills low IDF (bottom quantile) classified “alta” (highly diffuse/generic), high IDF (top quantile) “minima” (rare/niche). Output columns: escoskill_level_3, N, tf, idf, diffusione (“alta”, “centrale”, “minima”).","code":"# 1. aggregated skill frequencies ----- skills_agg <- data.table(   escoskill_level_3 = c(\"Python\", \"Java\", \"SQL\", \"Docker\",                         \"Statistics\", \"Excel\", \"Git\"),   N                 = c(500L, 300L, 800L, 150L, 200L, 700L, 100L) )  # 2. compute diffusion ----- diffusion <- compute_skill_diffusion(skills_agg, quantile_trim = 0.025)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"build_skillist","dir":"Articles","previous_headings":"Skill Relevance Analysis","what":"build_skillist()","title":"Comprehensive Guide to skillviz","text":"Builds master skills list merging skill metadata (reuse type, domain flags) diffusion scores. ESCO reuse type labels translated Italian (settoriale, trasversale, specifico, multisettoriale). Output columns: escoskill_level_3, N, tf, idf, diffusione, esco_v0101_reusetype, pillar_softskills, esco_v0101_ict, esco_v0101_green, esco_v0101_language, tipo.","code":"# 1. skill metadata ----- skill_meta <- data.table(   escoskill_level_3     = c(\"Python\", \"Python\", \"SQL\", \"SQL\"),   esco_v0101_reusetype  = c(\"sector-specific\", \"sector-specific\",                             \"transversal\", \"transversal\"),   pillar_softskills     = c(0L, 0L, 0L, 0L),   esco_v0101_ict        = c(1L, 1L, 1L, 1L),   esco_v0101_green      = c(0L, 0L, 0L, 0L),   esco_v0101_language   = c(0L, 0L, 0L, 0L) )  # 2. build master list ----- master_skills <- build_skillist(skill_meta, diffusion)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_idf_classification","dir":"Articles","previous_headings":"Skill Relevance Analysis","what":"compute_idf_classification()","title":"Comprehensive Guide to skillviz","text":"variant diffusion analysis operates document level. Instead using aggregated counts, computes IDF based number distinct announcements (documents) mentioning skill: IDF=log(Ndocs_totalNdocs_with_skill)IDF = \\log\\left(\\frac{N_{docs\\_total}}{N_{docs\\_with\\_skill}}\\right) robust situations single announcement might list skill multiple times.","code":"# 1. document-level skill data ----- skills_merged <- data.table(   general_id        = c(1, 1, 1, 2, 2, 3, 3, 3, 3),   escoskill_level_3 = c(\"Python\", \"SQL\", \"Docker\",                         \"Python\", \"SQL\",                         \"Python\", \"Java\", \"SQL\", \"Git\") )  # 2. compute IDF classification ----- idf_result <- compute_idf_classification(skills_merged, quantile_trim = 0.025)  # 3. access components ----- idf_result$idf            # data.table with IDF scores idf_result$threshold_rows # number of highly diffuse skills idf_result$diffuse_skills # character vector of \"alta\" skills"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"co-occurrence-networks","dir":"Articles","previous_headings":"","what":"Co-occurrence Networks","title":"Comprehensive Guide to skillviz","text":"Co-occurrence analysis identifies skills tend appear together job announcements. module provides functions building co-occurrence matrices filtering retain statistically meaningful associations.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_cooc_matrix","dir":"Articles","previous_headings":"Co-occurrence Networks","what":"compute_cooc_matrix()","title":"Comprehensive Guide to skillviz","text":"Builds sparse symmetric skill co-occurrence matrix using term-document matrix approach. entry (, j) counts many announcements mention skill skill j. result symmetric sparse matrix class dgCMatrix skill names row/column names.","code":"# 1. skill assignment data ----- skills <- data.table(   general_id        = c(1, 1, 1, 2, 2, 3, 3, 3),   escoskill_level_3 = c(\"Python\", \"SQL\", \"Docker\",                         \"Python\", \"SQL\",                         \"Python\", \"Java\", \"SQL\") )  # 2. build co-occurrence matrix ----- cooc_mat <- compute_cooc_matrix(skills)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"filter_relative_risk","dir":"Articles","previous_headings":"Co-occurrence Networks","what":"filter_relative_risk()","title":"Comprehensive Guide to skillviz","text":"raw co-occurrence matrix includes meaningful spurious associations. Relative risk filtering retains edges observed co-occurrence exceeds expected frequency independence: RR=OijEij=Oij×NtotalNi×NjRR = \\frac{O_{ij}}{E_{ij}} = \\frac{O_{ij} \\times N_{total}}{N_i \\times N_j} pairs RR > 1 (observed count exceeds independence baseline) kept. Output columns: , , weight, sorted descending weight.","code":"# 1. filter by relative risk ----- rr_edges <- filter_relative_risk(cooc_mat)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"cooc_all_professions","dir":"Articles","previous_headings":"Co-occurrence Networks","what":"cooc_all_professions()","title":"Comprehensive Guide to skillviz","text":"Computes per-profession co-occurrence networks iterating profession, building sparse term-document matrix, extracting co-occurrence edges, retaining largest connected component. Results combined single data.table. Internally, function uses .cooc_single() : Filters data single profession. Builds sparse term-document matrix via xtabs(). Computes co-occurrence via Matrix::crossprod(). Applies minimum weight threshold. Retains top-N edges largest connected component. Output columns: professione, , , weight.","code":"# 1. skill data with profession labels ----- skills <- data.table(   general_id        = rep(1:30, each = 3),   escoskill_level_3 = sample(c(\"Python\", \"SQL\", \"Docker\", \"Java\", \"Git\"),                              90, replace = TRUE),   preferredLabel    = rep(c(\"Developer\", \"Analyst\"), each = 45) )  # 2. compute co-occurrence for all professions ----- cooc_all <- cooc_all_professions(   skills,   top_n = 20L,   min_weight = 2L )  # 3. compute for specific professions only ----- cooc_dev <- cooc_all_professions(   skills,   professions = \"Developer\",   top_n = 20L,   min_weight = 2L )"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"community-detection","dir":"Articles","previous_headings":"","what":"Community Detection","title":"Comprehensive Guide to skillviz","text":"co-occurrence network built, community detection algorithms can identify groups skills cluster together. package supports four methods igraph library.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"detect_skill_communities","dir":"Articles","previous_headings":"Community Detection","what":"detect_skill_communities()","title":"Comprehensive Guide to skillviz","text":"Takes co-occurrence edge list applies community detection algorithm. supported methods : membership vector can used color nodes network visualizations group skills functional clusters reporting.","code":"# 1. co-occurrence edge list ----- cooc_edges <- data.table(   from   = c(\"Python\", \"Python\", \"SQL\", \"Java\", \"Docker\", \"Docker\"),   to     = c(\"SQL\", \"Docker\", \"Docker\", \"Maven\", \"Kubernetes\", \"Linux\"),   weight = c(150, 80, 60, 45, 90, 70) )  # 2. detect communities ----- result <- detect_skill_communities(cooc_edges, method = \"infomap\")  # 3. access components ----- result$graph        # igraph object result$communities  # community detection result result$membership   # named integer vector: skill -> community ID"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"professional-distance-and-clustering","dir":"Articles","previous_headings":"","what":"Professional Distance and Clustering","title":"Comprehensive Guide to skillviz","text":"functions measure similar different professions based skill profiles, group clusters.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_profession_distance","dir":"Articles","previous_headings":"Professional Distance and Clustering","what":"compute_profession_distance()","title":"Comprehensive Guide to skillviz","text":"Builds profession--skill incidence matrix computes pairwise distances professions. optional Balassa (RCA) filter zeros cells observed skill count expected, retaining skills -represented profession. default \"binary\" method treats filtered matrix presence/absence computes Jaccard-like distances. methods supported stats::dist() (e.g., \"euclidean\", \"canberra\") can also used.","code":"# 1. profession-skill data ----- competenze <- data.table(   cod_3             = c(\"2.1.1\", \"2.1.1\", \"2.1.1\", \"2.1.2\", \"2.1.2\", \"2.1.2\"),   escoskill_level_3 = c(\"Python\", \"SQL\", \"Docker\", \"Python\", \"SQL\", \"Statistics\") )  # 2. compute distance ----- dist_mat <- compute_profession_distance(competenze, method = \"binary\")"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"cluster_professions","dir":"Articles","previous_headings":"Professional Distance and Clustering","what":"cluster_professions()","title":"Comprehensive Guide to skillviz","text":"wrapper around stats::hclust() performs hierarchical clustering profession distance matrix. resulting dendrogram can plotted cut groups stats::cutree().","code":"# 1. hierarchical clustering ----- hc <- cluster_professions(dist_mat, method = \"ward.D2\")  # 2. plot dendrogram ----- plot(hc, main = \"Profession clusters\", xlab = \"\", sub = \"\")  # 3. cut into k groups ----- groups <- cutree(hc, k = 3)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"salary-analysis","dir":"Articles","previous_headings":"","what":"Salary Analysis","title":"Comprehensive Guide to skillviz","text":"module extracts summarizes salary information job announcements.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"extract_salary_data","dir":"Articles","previous_headings":"Salary Analysis","what":"extract_salary_data()","title":"Comprehensive Guide to skillviz","text":"Filters announcements positive salaryvalue.","code":"# 1. announcement data with salary ----- ann_salary <- data.table(   general_id  = 1:5,   salaryvalue = c(35000, 0, 42000, 0, 55000),   salary      = c(\"30000-40000\", NA, \"40000-45000\", NA, \"50000-60000\"),   data        = as.IDate(c(\"2024-01-15\", \"2024-02-10\", \"2024-03-20\",                            \"2024-04-05\", \"2024-05-12\")) )  # 2. extract rows with salary ----- sal <- extract_salary_data(ann_salary)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_salary_by_period","dir":"Articles","previous_headings":"Salary Analysis","what":"compute_salary_by_period()","title":"Comprehensive Guide to skillviz","text":"Aggregates salary statistics (count, mean, median) grouping columns. \"mese\" included grouping exist data, derived data column \"YYYY-MM\" string. Output columns: columns plus N, media (mean), mediana (median).","code":"# 1. compute by salary band and month ----- sal_period <- compute_salary_by_period(sal, by = c(\"salary\", \"mese\"))"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_salary_by_skill","dir":"Articles","previous_headings":"Salary Analysis","what":"compute_salary_by_skill()","title":"Comprehensive Guide to skillviz","text":"Joins salary data skills table computes median salary ESCO level 3 skill. Output columns: escoskill_level_3, N, mediana (median salary), sorted descending median.","code":"# 1. skills table ----- skills <- data.table(   general_id        = c(1, 1, 3, 3, 5),   escoskill_level_3 = c(\"Python\", \"SQL\", \"Python\", \"Docker\", \"SQL\") )  # 2. median salary per skill ----- sal_skill <- compute_salary_by_skill(sal, skills)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"source-stability-filtering","dir":"Articles","previous_headings":"","what":"Source Stability Filtering","title":"Comprehensive Guide to skillviz","text":"OJA data collected multiple online sources, different coverage patterns. module identifies filters sources stable temporal behavior, reducing bias intermittent unreliable sources. pipeline involves four steps:","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"prepare_source_tsibble","dir":"Articles","previous_headings":"Source Stability Filtering","what":"prepare_source_tsibble()","title":"Comprehensive Guide to skillviz","text":"Converts announcement data tsibble keyed data source (fonte) indexed year-month, counting unique announcements per source per month.","code":"# 1. announcement data with source ----- ann <- data.table(   general_id      = 1:100,   source          = sample(c(\"Indeed\", \"LinkedIn\", \"Monster\"), 100, replace = TRUE),   gdate           = as.IDate(sample(seq(as.IDate(\"2023-01-01\"),                                         as.IDate(\"2024-12-31\"),                                         by = \"day\"), 100)) )  # 2. prepare tsibble ----- tst <- prepare_source_tsibble(ann)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_source_features","dir":"Articles","previous_headings":"Source Stability Filtering","what":"compute_source_features()","title":"Comprehensive Guide to skillviz","text":"Extracts time-series features tsibble using STL decomposition (via feasts::feat_stl()). Returns mean, standard deviation, total count, trend/seasonality strength, coefficient variation (CV = sd / mean).","code":"# 1. compute features ----- features <- compute_source_features(tst)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"filter_stable_sources","dir":"Articles","previous_headings":"Source Stability Filtering","what":"filter_stable_sources()","title":"Comprehensive Guide to skillviz","text":"Selects sources whose coefficient variation exceed threshold whose total count meets minimum. Lower CV indicates consistent publishing patterns. result character vector stable source names.","code":"# 1. filter ----- stable <- filter_stable_sources(features, cv_threshold = 0.6, min_total = 100L)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"filter_annunci_by_source","dir":"Articles","previous_headings":"Source Stability Filtering","what":"filter_annunci_by_source()","title":"Comprehensive Guide to skillviz","text":"Subsets announcements keep rows stable sources.","code":"# 1. filter announcements ----- ann_stable <- filter_annunci_by_source(ann, stable)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"temporal-analysis","dir":"Articles","previous_headings":"","what":"Temporal Analysis","title":"Comprehensive Guide to skillviz","text":"module tracks skill demand evolves time computing skill rankings within professions time period.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_skill_ranking_series","dir":"Articles","previous_headings":"Temporal Analysis","what":"compute_skill_ranking_series()","title":"Comprehensive Guide to skillviz","text":"Aggregates skill counts profession time period (e.g., year, quarter, month), ranks skills within profession-period combination descending order count. Output columns: professione, mese (floored date), skill, N (count), rango (rank, 1 = frequent).","code":"# 1. skill-profession-date data ----- competenze <- data.table(   escoskill_level_3 = c(\"Python\", \"SQL\", \"Docker\", \"Python\", \"SQL\",                         \"Python\", \"Java\", \"SQL\", \"Docker\", \"Git\"),   nome_3            = rep(\"ICT specialists\", 10),   gdate             = as.IDate(c(rep(\"2023-03-15\", 5), rep(\"2024-06-20\", 5))) )  # 2. compute annual ranking ----- serie <- compute_skill_ranking_series(   competenze,   time_unit = \"year\",   cutoff_date = \"2025-01-01\" )"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"compute_skill_variation","dir":"Articles","previous_headings":"Temporal Analysis","what":"compute_skill_variation()","title":"Comprehensive Guide to skillviz","text":"Computes year--year (period--period) changes skill rankings. variation calculated previous_rank - current_rank, positive values indicate improvement (skill moved higher rank). Output: wide-format data.table one row per profession-skill pair, rank count columns period (rango_<period>, N_<period>), variazione (rank change).","code":"# 1. compute variation ----- variation <- compute_skill_variation(   serie,   min_n  = 2L,    # minimum count in current period   top_k  = 5L     # top skills per profession )"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"skill-extraction","dir":"Articles","previous_headings":"","what":"Skill Extraction","title":"Comprehensive Guide to skillviz","text":"functions combine crosswalk, IDF classification, merge logic higher-level extraction pipelines.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"extract_specific_skills_cpi3","dir":"Articles","previous_headings":"Skill Extraction","what":"extract_specific_skills_cpi3()","title":"Comprehensive Guide to skillviz","text":"Extracts non-diffuse (specific) skills CP2021 3-digit profession level. pipeline: Merges announcements CPI-ESCO crosswalk idesco_level_4. Merges skills general_id. Computes document-level IDF classification. Filters highly diffuse skills, retaining “specifiche” (specific) skills. Output columns: general_id, escoskill_level_3, cod_3, nome_3.","code":"# 1. synthetic data ----- ann <- data.table(   general_id     = c(1, 2, 3, 4, 5),   idesco_level_4 = c(\"E001\", \"E001\", \"E002\", \"E002\", \"E001\") )  ski <- data.table(   general_id        = c(1, 1, 2, 2, 3, 3, 4, 5, 5),   escoskill_level_3 = c(\"Python\", \"SQL\", \"Python\", \"Docker\",                         \"SQL\", \"Statistics\", \"SQL\", \"Python\", \"Java\") )  cpi_esco <- data.table(   idesco_level_4 = c(\"E001\", \"E002\"),   cod_3          = c(\"2.1.1\", \"2.1.2\"),   nome_3         = c(\"ICT specialists\", \"Engineering technicians\") )  # 2. extract specific skills ----- specific <- extract_specific_skills_cpi3(ann, ski, cpi_esco, quantile_trim = 0.025)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"build_profession_skill_profile","dir":"Articles","previous_headings":"Skill Extraction","what":"build_profession_skill_profile()","title":"Comprehensive Guide to skillviz","text":"Builds comprehensive profession-skill profile table joining announcements, skills, ISCO classification, master skills list. Aggregates profession-skill level unique announcement counts. Output columns: preferredLabel, escoskill_level_3 (ESCOSKILL_LEVEL_3), diffusione, annunci.","code":"# 1. inputs ----- ann <- data.table(   general_id     = 1:4,   idesco_level_4 = c(\"E001\", \"E001\", \"E002\", \"E002\"),   gdate          = as.IDate(c(\"2024-01-01\", \"2024-02-01\",                               \"2024-03-01\", \"2024-04-01\")),   edate          = as.IDate(c(\"2024-02-01\", \"2024-03-01\",                               \"2024-04-01\", \"2024-05-01\")) )  ski <- data.table(   general_id        = c(1, 1, 2, 3, 3, 4),   escoskill_level_3 = c(\"Python\", \"SQL\", \"Python\", \"SQL\", \"Stats\", \"SQL\") )  isco <- data.table(   code           = c(\"E001\", \"E002\"),   preferredLabel = c(\"Software developer\", \"Data analyst\") )  skillist_dt <- data.table(   escoskill_level_3 = c(\"Python\", \"SQL\", \"Stats\"),   diffusione        = c(\"centrale\", \"alta\", \"minima\") )  # 2. build profile ----- profile <- build_profession_skill_profile(   ann, ski, isco, skillist_dt )"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"visualization","dir":"Articles","previous_headings":"","what":"Visualization","title":"Comprehensive Guide to skillviz","text":"package provides two plotting functions, requiring suggested packages (ggplot2, ggraph, tidygraph).","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"plot_cooc_graph","dir":"Articles","previous_headings":"Visualization","what":"plot_cooc_graph()","title":"Comprehensive Guide to skillviz","text":"Renders skill co-occurrence network graph using ggraph. Edge width transparency scale co-occurrence weight. largest connected component plotted. layout parameter accepts layout algorithm supported ggraph (e.g., \"fr\", \"kk\", \"stress\", \"circle\").","code":"# 1. co-occurrence edge list ----- cooc_edges <- data.table(   from   = c(\"Python\", \"Python\", \"SQL\", \"Docker\", \"Docker\"),   to     = c(\"SQL\", \"Docker\", \"Docker\", \"Kubernetes\", \"Linux\"),   weight = c(150, 80, 60, 90, 70) )  # 2. plot network ----- plot_cooc_graph(cooc_edges, profession = \"Software developer\", layout = \"fr\")"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"plot_skill_ranking","dir":"Articles","previous_headings":"Visualization","what":"plot_skill_ranking()","title":"Comprehensive Guide to skillviz","text":"Draws line chart showing skill ranks evolve time single profession. skills = NULL, function automatically selects 10 frequently occurring skills.","code":"# 1. ranking series ----- serie <- data.table(   mese         = rep(as.Date(c(\"2022-01-01\", \"2023-01-01\", \"2024-01-01\")),                      each = 3),   skill        = rep(c(\"Python\", \"SQL\", \"Docker\"), 3),   rango        = c(1, 2, 3, 2, 1, 3, 1, 2, 4),   N            = c(100, 90, 50, 110, 120, 55, 130, 115, 40),   professione  = rep(\"Software developer\", 9) )  # 2. plot ranking evolution ----- plot_skill_ranking(serie, profession = \"Software developer\")  # 3. plot specific skills only ----- plot_skill_ranking(serie, profession = \"Software developer\",                    skills = c(\"Python\", \"SQL\"))"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"included-datasets","dir":"Articles","previous_headings":"","what":"Included Datasets","title":"Comprehensive Guide to skillviz","text":"package ships three pre-computed datasets, available via data().","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"isco_gruppi","dir":"Articles","previous_headings":"Included Datasets","what":"isco_gruppi","title":"Comprehensive Guide to skillviz","text":"ESCO ISCO group classification mapping occupation codes profession names hierarchy labels.","code":"data(isco_gruppi)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"skillist","dir":"Articles","previous_headings":"Included Datasets","what":"skillist","title":"Comprehensive Guide to skillviz","text":"Pre-computed master skills list frequency, reuse type, domain flags.","code":"data(skillist)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"cooccorrenza","dir":"Articles","previous_headings":"Included Datasets","what":"cooccorrenza","title":"Comprehensive Guide to skillviz","text":"Pre-computed global skill co-occurrence edges relative-risk filtering applied.","code":"data(cooccorrenza)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-guide.html","id":"typical-workflow","dir":"Articles","previous_headings":"","what":"Typical Workflow","title":"Comprehensive Guide to skillviz","text":"following outlines complete end--end pipeline using skillviz functions. pipeline modular: step produces data.table (igraph/dist object) feeds next step. design supports interactive exploration integration workflow managers targets.","code":"library(skillviz) library(data.table)  # 1. load reference data ----- esco_mapping <- read_esco_mapping(file = \"mappa_cpv_esco_iv.fst\") isco         <- read_isco_groups(\"ESCO dataset - v1.1.1 - classification - it - csv\")  # 2. load and deduplicate announcements ----- # ann_raw <- fst::read_fst(\"announcements.fst\", as.data.table = TRUE) # ann     <- deduplicate_annunci(ann_raw, active_date = as.IDate(\"2024-01-01\"))  # 3. build crosswalk ----- # cpi3      <- fst::read_fst(\"cpi3.fst\", as.data.table = TRUE) # crosswalk <- build_cpi_esco_crosswalk(esco_mapping, cpi3)  # 4. enrich announcements ----- # ann_esco <- prepare_annunci_esco(ann_raw, esco_mapping)  # 5. source stability filtering ----- # tst      <- prepare_source_tsibble(ann_raw) # features <- compute_source_features(tst) # stable   <- filter_stable_sources(features, cv_threshold = 0.6, min_total = 100) # ann_filt <- filter_annunci_by_source(ann_raw, stable)  # 6. skill relevance ----- # balassa   <- compute_balassa_index(skills) # diffusion <- compute_skill_diffusion(skills_agg) # master    <- build_skillist(skills, diffusion)  # 7. co-occurrence networks ----- # cooc_mat  <- compute_cooc_matrix(skills) # rr_edges  <- filter_relative_risk(cooc_mat) # cooc_prof <- cooc_all_professions(skills, top_n = 30L, min_weight = 10L)  # 8. community detection ----- # communities <- detect_skill_communities(rr_edges, method = \"infomap\")  # 9. professional distance and clustering ----- # dist_mat <- compute_profession_distance(competenze, method = \"binary\") # hc       <- cluster_professions(dist_mat, method = \"ward.D2\")  # 10. salary analysis ----- # sal       <- extract_salary_data(ann_raw) # sal_skill <- compute_salary_by_skill(sal, skills)  # 11. temporal analysis ----- # serie     <- compute_skill_ranking_series(competenze, time_unit = \"year\") # variation <- compute_skill_variation(serie, min_n = 30L, top_k = 10L)  # 12. visualization ----- # plot_cooc_graph(rr_edges, profession = \"Software developer\") # plot_skill_ranking(serie, profession = \"ICT specialists\")"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Quick Start Guide","text":"skillviz provides tools analysing skill requirements extracted Online Job Advertising (OJA) data. package covers specialisation indices, co-occurrence networks, community detection, professional distance, temporal ranking – built ESCO CP2021 taxonomies. vignette walks core workflow using synthetic data.","code":""},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"synthetic-data","dir":"Articles","previous_headings":"","what":"Synthetic data","title":"Quick Start Guide","text":"code creates minimal data.tables mirror column conventions used throughout package. production tables come ESCO-classified job advertisements.","code":"library(skillviz) library(data.table)  # 1. Skill occurrences per announcement ----- set.seed(42) professions <- c(\"Data analyst\", \"Software developer\", \"Project manager\") skills <- c(\"Python\", \"SQL\", \"R\", \"Agile\", \"Communication\",             \"Java\", \"Docker\", \"Budgeting\", \"Teamwork\", \"Excel\")  n_rows <- 500 skills_dt <- data.table(   general_id        = sample(seq_len(100), n_rows, replace = TRUE),   preferredLabel    = sample(professions, n_rows, replace = TRUE),   escoskill_level_3 = sample(skills, n_rows, replace = TRUE) )  # 2. Aggregated profession-skill counts ----- skills_agg <- skills_dt[, .(N = .N), .(escoskill_level_3, preferredLabel)]"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"balassa-index","dir":"Articles","previous_headings":"","what":"Balassa index","title":"Quick Start Guide","text":"Balassa index (Revealed Comparative Advantage) measures concentrated skill within profession relative professions. Values >= 1 indicate skill specific profession.","code":"# 3. Compute Balassa index ----- balassa <- compute_balassa_index(skills_dt) head(balassa)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"skill-diffusion-tf-idf","dir":"Articles","previous_headings":"","what":"Skill diffusion (TF-IDF)","title":"Quick Start Guide","text":"compute_skill_diffusion() applies TF-IDF measure classify skills three diffusion bands: alta (widespread), centrale (mid-range), minima (rare).","code":"# 4. Compute skill diffusion ----- diffusion <- compute_skill_diffusion(skills_agg) head(diffusion)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"co-occurrence-matrix-and-relative-risk-filtering","dir":"Articles","previous_headings":"","what":"Co-occurrence matrix and relative-risk filtering","title":"Quick Start Guide","text":"co-occurrence matrix records often pairs skills appear together job advertisement. filter_relative_risk() retains pairs whose observed co-occurrence exceeds independence baseline.","code":"# 5. Build co-occurrence matrix ----- cooc_mat <- compute_cooc_matrix(skills_dt)  # 6. Filter by relative risk ----- rr_edges <- filter_relative_risk(cooc_mat) head(rr_edges)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"community-detection","dir":"Articles","previous_headings":"","what":"Community detection","title":"Quick Start Guide","text":"detect_skill_communities() applies graph-based community detection algorithm returns graph, community object, membership vector.","code":"# 7. Detect skill communities ----- comm <- detect_skill_communities(rr_edges, method = \"walktrap\") comm$membership"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"co-occurrence-graph","dir":"Articles","previous_headings":"","what":"Co-occurrence graph","title":"Quick Start Guide","text":"plot_cooc_graph() renders co-occurrence network using ggraph. requires optional packages ggraph, tidygraph, ggplot2.","code":"# 8. Plot the co-occurrence network ----- plot_cooc_graph(rr_edges, profession = \"Data analyst\")"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"profession-distance-and-clustering","dir":"Articles","previous_headings":"","what":"Profession distance and clustering","title":"Quick Start Guide","text":"compute_profession_distance() builds profession--skill incidence matrix, applies optional Balassa filter, computes pairwise distances. input requires cod_3 column (profession code) instead preferredLabel.","code":"# 9. Prepare distance input ----- distance_dt <- data.table(   cod_3             = sample(professions, n_rows, replace = TRUE),   escoskill_level_3 = sample(skills, n_rows, replace = TRUE) )  # 10. Compute distance and cluster ----- prof_dist <- compute_profession_distance(distance_dt, method = \"binary\") hc <- cluster_professions(prof_dist, method = \"ward.D2\") plot(hc)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"temporal-skill-ranking","dir":"Articles","previous_headings":"","what":"Temporal skill ranking","title":"Quick Start Guide","text":"compute_skill_ranking_series() ranks skills within profession time period. requires columns nome_3, escoskill_level_3, gdate.","code":"# 11. Prepare temporal input ----- dates <- seq(as.Date(\"2022-01-01\"), as.Date(\"2024-12-01\"), by = \"month\") temporal_dt <- data.table(   general_id        = sample(seq_len(200), 1000, replace = TRUE),   nome_3            = sample(professions, 1000, replace = TRUE),   escoskill_level_3 = sample(skills, 1000, replace = TRUE),   gdate             = sample(dates, 1000, replace = TRUE) )  # 12. Compute ranking and plot ----- ranking <- compute_skill_ranking_series(temporal_dt, time_unit = \"quarter\") plot_skill_ranking(ranking, profession = \"Data analyst\")"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"bundled-datasets","dir":"Articles","previous_headings":"","what":"Bundled datasets","title":"Quick Start Guide","text":"package ships three pre-computed datasets: isco_gruppi – ESCO occupation code profession name mapping skillist – master skill list metadata diffusion flags cooccorrenza – skill co-occurrence edge list (relative-risk filtered)","code":"# 13. Load bundled data ----- data(cooccorrenza) head(cooccorrenza)"},{"path":"https://gmontaletti.github.io/skillviz/articles/skillviz-quickstart.html","id":"further-reading","dir":"Articles","previous_headings":"","what":"Further reading","title":"Quick Start Guide","text":"See function-level help pages (e.g., ?compute_balassa_index) package README additional details.","code":""},{"path":"https://gmontaletti.github.io/skillviz/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Giampaolo Montaletti. Author, maintainer.","code":""},{"path":"https://gmontaletti.github.io/skillviz/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Montaletti G (2026). skillviz: Skill Co-Occurrence Analysis Visualization Online Job Advertisements. R package version 0.1.0, https://gmontaletti.github.io/skillviz/.","code":"@Manual{,   title = {skillviz: Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements},   author = {Giampaolo Montaletti},   year = {2026},   note = {R package version 0.1.0},   url = {https://gmontaletti.github.io/skillviz/}, }"},{"path":[]},{"path":"https://gmontaletti.github.io/skillviz/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements","text":"skillviz R package skill co-occurrence analysis visualization Online Job Advertising (OJA) data. provides tools computing skill specialization indices, co-occurrence networks, source stability filtering, salary analysis, professional distance clustering, temporal skill ranking. package built ESCO CP2021 (Italian professional classification) taxonomies.","code":""},{"path":"https://gmontaletti.github.io/skillviz/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements","text":"Install development version GitHub:","code":"# install.packages(\"pak\") pak::pak(\"gmontaletti/skillviz\")"},{"path":[]},{"path":"https://gmontaletti.github.io/skillviz/index.html","id":"included-datasets","dir":"","previous_headings":"","what":"Included datasets","title":"Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements","text":"package ships three pre-computed datasets: isco_gruppi – ESCO ISCO group classification mapping skillist – Master skills list metadata (frequency, reuse type, domain flags) cooccorrenza – Pre-computed global skill co-occurrence network","code":""},{"path":"https://gmontaletti.github.io/skillviz/index.html","id":"quick-example","dir":"","previous_headings":"","what":"Quick example","title":"Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements","text":"","code":"library(skillviz) library(data.table)  # 1. Load included data ----- data(cooccorrenza) data(skillist)  # 2. Build co-occurrence graph ----- graph <- plot_cooc_graph(cooccorrenza, top_n = 50)"},{"path":"https://gmontaletti.github.io/skillviz/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements","text":"cite skillviz publications, use: BibTeX entry:","code":"Montaletti G (2025). skillviz: Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements. R package version 0.1.0. https://github.com/gmontaletti/skillviz @Manual{skillviz,   title = {skillviz: Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements},   author = {Giampaolo Montaletti},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/gmontaletti/skillviz}, }"},{"path":"https://gmontaletti.github.io/skillviz/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Skill Co-Occurrence Analysis and Visualization from Online Job Advertisements","text":"MIT","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_cpi_esco_crosswalk.html","id":null,"dir":"Reference","previous_headings":"","what":"Build ESCO-to-CP2021 level 3 crosswalk — build_cpi_esco_crosswalk","title":"Build ESCO-to-CP2021 level 3 crosswalk — build_cpi_esco_crosswalk","text":"Merge CPI-ESCO mapping CP2021 level 3 classification produce lookup table maps idesco_level_4 code Italian ESCO label CP2021 3-digit group.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_cpi_esco_crosswalk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build ESCO-to-CP2021 level 3 crosswalk — build_cpi_esco_crosswalk","text":"","code":"build_cpi_esco_crosswalk(esco_mapping, cpi3)"},{"path":"https://gmontaletti.github.io/skillviz/reference/build_cpi_esco_crosswalk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build ESCO-to-CP2021 level 3 crosswalk — build_cpi_esco_crosswalk","text":"esco_mapping data.table read_esco_mapping(), containing least idesco_level_4, esco_level_4, idcp_2011_v. cpi3 data.table CP2021 level 3 classification. Must contain cod_3 nome_3.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_cpi_esco_crosswalk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build ESCO-to-CP2021 level 3 crosswalk — build_cpi_esco_crosswalk","text":"data.table one row per idesco_level_4 columns: idesco_level_4, it_esco_level_4 (collapsed Italian ESCO labels), cod_3, nome_3.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_profession_skill_profile.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a comprehensive profession-skill profile table — build_profession_skill_profile","title":"Build a comprehensive profession-skill profile table — build_profession_skill_profile","text":"Joins announcements, skills, ISCO classification, master skills list, co-occurrence data single profession-skill table. reproduces join logic profession-skill exploration script (08_ski_ann_stru.R).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_profession_skill_profile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a comprehensive profession-skill profile table — build_profession_skill_profile","text":"","code":"build_profession_skill_profile(ann, ski, isco, skillist, cooc = NULL)"},{"path":"https://gmontaletti.github.io/skillviz/reference/build_profession_skill_profile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a comprehensive profession-skill profile table — build_profession_skill_profile","text":"ann data.table announcements least general_id, idesco_level_4, gdate, edate. ski data.table skills least general_id ESCOSKILL_LEVEL_3. isco data.table ISCO groups least code preferredLabel. skillist data.table master skills list least ESCOSKILL_LEVEL_3 (escoskill_level_3) diffusione. cooc Optional data.table co-occurrence edge list , , weight. provided, returned unmodified attribute output downstream graph analysis.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_profession_skill_profile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a comprehensive profession-skill profile table — build_profession_skill_profile","text":"data.table columns preferredLabel, ESCOSKILL_LEVEL_3, diffusione, annunci (number unique announcements per profession-skill pair).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_profession_skill_profile.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Build a comprehensive profession-skill profile table — build_profession_skill_profile","text":"Steps: Merge announcements ISCO get preferredLabel. Merge skills announcements general_id. Merge master skills list diffusion metadata. Aggregate profession-skill level announcement counts.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_skillist.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a master skills list with metadata and diffusion classification — build_skillist","title":"Build a master skills list with metadata and diffusion classification — build_skillist","text":"Aggregates skill metadata (reuse type, flag columns) merges diffusion scores. ESCO reuse type labels translated Italian.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_skillist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a master skills list with metadata and diffusion classification — build_skillist","text":"","code":"build_skillist(skills, diffusion)"},{"path":"https://gmontaletti.github.io/skillviz/reference/build_skillist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a master skills list with metadata and diffusion classification — build_skillist","text":"skills data.table skill occurrences columns: escoskill_level_3, esco_v0101_reusetype, pillar_softskills, esco_v0101_ict, esco_v0101_green, esco_v0101_language. diffusion data.table returned compute_skill_diffusion(), columns escoskill_level_3, N, tf, idf, diffusione.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/build_skillist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a master skills list with metadata and diffusion classification — build_skillist","text":"data.table one row per unique skill, including metadata columns, Italian type label (tipo), diffusion scores.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/check_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that required columns exist in a data.table — check_columns","title":"Check that required columns exist in a data.table — check_columns","text":"Check required columns exist data.table","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/check_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that required columns exist in a data.table — check_columns","text":"","code":"check_columns(dt, required, caller = \"function\")"},{"path":"https://gmontaletti.github.io/skillviz/reference/check_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that required columns exist in a data.table — check_columns","text":"dt data.table check required Character vector required column names caller Name calling function error messages","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/check_suggests.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a suggested package is available — check_suggests","title":"Check if a suggested package is available — check_suggests","text":"Check suggested package available","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/check_suggests.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a suggested package is available — check_suggests","text":"","code":"check_suggests(pkg, reason = NULL)"},{"path":"https://gmontaletti.github.io/skillviz/reference/check_suggests.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a suggested package is available — check_suggests","text":"pkg Package name reason package needed","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/classify_esco_to_cpi.html","id":null,"dir":"Reference","previous_headings":"","what":"Classify unmapped ESCO L4 codes to CPI groups via Naive Bayes — classify_esco_to_cpi","title":"Classify unmapped ESCO L4 codes to CPI groups via Naive Bayes — classify_esco_to_cpi","text":"standard CPI-ESCO crosswalk cover ESCO level 4 codes present OJV postings, function uses Multinomial Naive Bayes classifier predict CPI 3-digit groups unmapped codes. Training data comes postings whose ESCO L4 code present crosswalk; prediction uses skill profile unmapped postings.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/classify_esco_to_cpi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classify unmapped ESCO L4 codes to CPI groups via Naive Bayes — classify_esco_to_cpi","text":"","code":"classify_esco_to_cpi(   postings,   skills,   cpi_esco,   top_k = 3L,   alpha = 1,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/skillviz/reference/classify_esco_to_cpi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Classify unmapped ESCO L4 codes to CPI groups via Naive Bayes — classify_esco_to_cpi","text":"postings data.table normalize_ojv()$postings. Needs general_id, idesco_level_4. skills data.table normalize_ojv()$skills. Needs general_id escoskill_level_3 (ESCOSKILL_LEVEL_3). cpi_esco data.table build_cpi_esco_crosswalk(). Needs idesco_level_4, cod_3, nome_3. top_k Integer, number top CPI predictions per ESCO L4 code (default: 3). alpha Numeric, Laplace smoothing parameter (default: 1.0). verbose Logical, print progress messages (default: TRUE).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/classify_esco_to_cpi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Classify unmapped ESCO L4 codes to CPI groups via Naive Bayes — classify_esco_to_cpi","text":"data.table keyed idesco_level_4 columns: idesco_level_4 unmapped ESCO level 4 code. cod_3 Predicted CPI 3-digit code. nome_3 Predicted CPI 3-digit label. probability Posterior probability (softmax-normalized). rank Rank among top_k predictions (1 = best). n_postings Number postings ESCO L4. n_skills Number distinct skills observed ESCO L4.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/classify_esco_to_cpi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Classify unmapped ESCO L4 codes to CPI groups via Naive Bayes — classify_esco_to_cpi","text":"","code":"postings <- data.table::data.table(   general_id = 1:6,   idesco_level_4 = c(\"E001\", \"E001\", \"E002\", \"E002\", \"E003\", \"E003\") ) skills <- data.table::data.table(   general_id = c(1L, 1L, 2L, 3L, 3L, 4L, 5L, 5L, 6L),   escoskill_level_3 = c(\"S01\", \"S02\", \"S01\", \"S03\", \"S04\", \"S03\",                         \"S01\", \"S02\", \"S01\") ) cpi_esco <- data.table::data.table(   idesco_level_4 = c(\"E001\", \"E002\"),   cod_3 = c(\"2.1.1\", \"3.1.2\"),   nome_3 = c(\"Informatici\", \"Ingegneri\") ) result <- classify_esco_to_cpi(postings, skills, cpi_esco, top_k = 2L) #> classify_esco_to_cpi: 2 mapped, 1 unmapped, 3 total ESCO L4 codes #> classify_esco_to_cpi: 2 training classes, 4 training documents #> classify_esco_to_cpi: vocabulary size = 4 #> classify_esco_to_cpi: classified 1 unmapped ESCO L4 codes"},{"path":"https://gmontaletti.github.io/skillviz/reference/cluster_professions.html","id":null,"dir":"Reference","previous_headings":"","what":"Hierarchical clustering of professions — cluster_professions","title":"Hierarchical clustering of professions — cluster_professions","text":"Wrapper around stats::hclust() clustering profession distance matrix. Returns hclust object can plotted dendrogram cut groups stats::cutree().","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/cluster_professions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hierarchical clustering of professions — cluster_professions","text":"","code":"cluster_professions(distance, method = \"complete\")"},{"path":"https://gmontaletti.github.io/skillviz/reference/cluster_professions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hierarchical clustering of professions — cluster_professions","text":"distance dist object, typically compute_profession_distance(). method Character, agglomeration method passed stats::hclust(). Default: \"complete\". options: \"ward.D2\", \"average\", \"single\", etc.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/cluster_professions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hierarchical clustering of professions — cluster_professions","text":"hclust object.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_balassa_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute the Balassa index (Revealed Comparative Advantage) for skill-profession pairs — compute_balassa_index","title":"Compute the Balassa index (Revealed Comparative Advantage) for skill-profession pairs — compute_balassa_index","text":"Measures degree specialization skill within profession. Balassa index >= 1 indicates skill concentrated profession across professions (.e., \"specific\" profession).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_balassa_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute the Balassa index (Revealed Comparative Advantage) for skill-profession pairs — compute_balassa_index","text":"","code":"compute_balassa_index(skills)"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_balassa_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute the Balassa index (Revealed Comparative Advantage) for skill-profession pairs — compute_balassa_index","text":"skills data.table one row per skill occurrence announcement. Required columns: preferredLabel (profession), escoskill_level_3 (skill).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_balassa_index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute the Balassa index (Revealed Comparative Advantage) for skill-profession pairs — compute_balassa_index","text":"data.table columns: preferredLabel, escoskill_level_3, N, tutte_professioni, tutte_le_skills_della_professione, tutte_le_ricorrenze, balassa_index, specializzazione (\"specifica\" >= 1, \"non specifica\" otherwise).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_balassa_index.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute the Balassa index (Revealed Comparative Advantage) for skill-profession pairs — compute_balassa_index","text":"formula profession-skill pair : $$B = (N_{skill,prof} / N_{prof}) / (N_{skill,} / N_{})$$","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_cooc_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a raw co-occurrence sparse matrix — compute_cooc_matrix","title":"Build a raw co-occurrence sparse matrix — compute_cooc_matrix","text":"Constructs symmetric skill co-occurrence matrix data.table skill assignments. matrix entry \\((, j)\\) counts many announcements (general_id) mention skill \\(\\) skill \\(j\\).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_cooc_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a raw co-occurrence sparse matrix — compute_cooc_matrix","text":"","code":"compute_cooc_matrix(skills)"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_cooc_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a raw co-occurrence sparse matrix — compute_cooc_matrix","text":"skills data.table columns general_id escoskill_level_3.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_cooc_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a raw co-occurrence sparse matrix — compute_cooc_matrix","text":"symmetric sparse matrix class Matrix::dgCMatrix skill names row/column names.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_cooc_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build a raw co-occurrence sparse matrix — compute_cooc_matrix","text":"","code":"if (FALSE) { # \\dontrun{ skills <- data.table::data.table(   general_id = c(1, 1, 1, 2, 2),   escoskill_level_3 = c(\"A\", \"B\", \"C\", \"A\", \"B\") ) mat <- compute_cooc_matrix(skills) } # }"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_idf_classification.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute IDF classification at the document level — compute_idf_classification","title":"Compute IDF classification at the document level — compute_idf_classification","text":"Calculates IDF using unique document counts (aggregated frequencies). variant counts number distinct documents (announcements) mention skill, providing document-frequency-based diffusion measure.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_idf_classification.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute IDF classification at the document level — compute_idf_classification","text":"","code":"compute_idf_classification(skills_merged, quantile_trim = 0.025)"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_idf_classification.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute IDF classification at the document level — compute_idf_classification","text":"skills_merged data.table columns general_id (document ID) escoskill_level_3 (skill label). quantile_trim Numeric, quantile threshold. Skills IDF bottom quantile_trim fraction classified highly diffuse (\"alta\"). Default: 0.025.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_idf_classification.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute IDF classification at the document level — compute_idf_classification","text":"named list : idf data.table columns escoskill_level_3, N, tf, idf, diffusione. threshold_rows Integer, number skills classified \"alta\" (highly diffuse). diffuse_skills Character vector skill labels classified \"alta\" diffusion.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_idf_classification.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute IDF classification at the document level — compute_idf_classification","text":"IDF formula : \\(log(1 / (n_{docs\\_with\\_skill} / n_{docs\\_total}))\\) simplifies \\(log(n_{docs\\_total} / n_{docs\\_with\\_skill})\\).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_profession_distance.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute pairwise distances between professions based on skill profiles — compute_profession_distance","title":"Compute pairwise distances between professions based on skill profiles — compute_profession_distance","text":"Builds profession x skill incidence matrix data.table profession-skill associations. Applies Balassa-type filter cells observed count exceeds expected count retained (revealed comparative advantage). transposed matrix passed stats::dist().","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_profession_distance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute pairwise distances between professions based on skill profiles — compute_profession_distance","text":"","code":"compute_profession_distance(competenze, method = \"binary\", filter_rca = TRUE)"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_profession_distance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute pairwise distances between professions based on skill profiles — compute_profession_distance","text":"competenze data.table least columns cod_3 (profession code) escoskill_level_3 (skill label). method Character, distance method passed stats::dist(). Default: \"binary\". common options: \"euclidean\", \"canberra\", \"maximum\", \"minkowski\". filter_rca Logical, whether zero cells observed count expected count (Balassa filter). Default: TRUE.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_profession_distance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute pairwise distances between professions based on skill profiles — compute_profession_distance","text":"dist object pairwise distances professions.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_salary_by_period.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute salary statistics by grouping period — compute_salary_by_period","title":"Compute salary statistics by grouping period — compute_salary_by_period","text":"Aggregate salary data computing count, mean median salary per group. default grouping produces one row per salary band month combination.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_salary_by_period.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute salary statistics by grouping period — compute_salary_by_period","text":"","code":"compute_salary_by_period(salary_data, by = c(\"salary\", \"mese\"))"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_salary_by_period.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute salary statistics by grouping period — compute_salary_by_period","text":"salary_data data.table returned extract_salary_data(). Must contain salaryvalue columns listed . Character vector column names group . \"mese\" included yet exist salary_data, derived data column year-month string (\"YYYY-MM\"). Defaults c(\"salary\", \"mese\").","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_salary_by_period.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute salary statistics by grouping period — compute_salary_by_period","text":"data.table columns plus N (count), media (mean salary) mediana (median salary).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_salary_by_skill.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute median salary per skill — compute_salary_by_skill","title":"Compute median salary per skill — compute_salary_by_skill","text":"Join salary data skills table compute median salary ESCO level-3 skill, ordered highest lowest.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_salary_by_skill.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute median salary per skill — compute_salary_by_skill","text":"","code":"compute_salary_by_skill(salary_data, skills)"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_salary_by_skill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute median salary per skill — compute_salary_by_skill","text":"salary_data data.table returned extract_salary_data(). Must contain salaryvalue key column suitable joining skills (typically general_id). skills data.table skills least columns general_id escoskill_level_3.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_salary_by_skill.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute median salary per skill — compute_salary_by_skill","text":"data.table columns escoskill_level_3, N (count) mediana (median salary), sorted descending median.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_diffusion.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute skill diffusion using TF-IDF on aggregated skill frequencies — compute_skill_diffusion","title":"Compute skill diffusion using TF-IDF on aggregated skill frequencies — compute_skill_diffusion","text":"Calculates Term Frequency (TF) Inverse Document Frequency (IDF) skill based aggregated occurrence counts. Skills low IDF widespread (\"alta\" diffusion); skills high IDF rare (\"minima\").","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_diffusion.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute skill diffusion using TF-IDF on aggregated skill frequencies — compute_skill_diffusion","text":"","code":"compute_skill_diffusion(skills_by_profession, quantile_trim = 0.025)"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_diffusion.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute skill diffusion using TF-IDF on aggregated skill frequencies — compute_skill_diffusion","text":"skills_by_profession data.table columns escoskill_level_3 N (occurrence count), typically obtained aggregating skills merged announcements. row skill-profession pair count. quantile_trim Numeric, quantile threshold classifying diffusion. Skills IDF <= quantile(quantile_trim) \"alta\" (highly diffuse), skills IDF >= quantile(1 - quantile_trim) \"minima\" (rare). Default: 0.025.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_diffusion.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute skill diffusion using TF-IDF on aggregated skill frequencies — compute_skill_diffusion","text":"data.table columns: escoskill_level_3, N, tf, idf, diffusione.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_diffusion.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute skill diffusion using TF-IDF on aggregated skill frequencies — compute_skill_diffusion","text":"IDF formula : \\(log(N_{total} / N_{skill})\\) counts come aggregated profession-skill matrix.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_ranking_series.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute skill ranking per profession over time periods — compute_skill_ranking_series","title":"Compute skill ranking per profession over time periods — compute_skill_ranking_series","text":"Aggregates skill counts profession time period, ranks skills within profession-period combination (descending count). time unit controls granularity aggregation.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_ranking_series.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute skill ranking per profession over time periods — compute_skill_ranking_series","text":"","code":"compute_skill_ranking_series(   competenze,   time_unit = \"year\",   cutoff_date = NULL )"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_ranking_series.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute skill ranking per profession over time periods — compute_skill_ranking_series","text":"competenze data.table columns escoskill_level_3 (skill label), nome_3 (profession name), gdate (date, either Date IDate class). time_unit Character, time unit lubridate::floor_date(). Default: \"year\". options: \"quarter\", \"month\", etc. cutoff_date Date character \"YYYY-MM-DD\" format. Observations date excluded. Default: NULL (filtering).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_ranking_series.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute skill ranking per profession over time periods — compute_skill_ranking_series","text":"data.table columns professione (nome_3), mese (floored date), skill (escoskill_level_3), N (count), rango (rank within profession-period, 1 = frequent).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_ranking_series.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute skill ranking per profession over time periods — compute_skill_ranking_series","text":"reproduces temporal ranking logic skills ranked frequency within profession time step.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_variation.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute year-over-year variation in skill rankings — compute_skill_variation","title":"Compute year-over-year variation in skill rankings — compute_skill_variation","text":"Takes output compute_skill_ranking_series() calculates ranking changes consecutive time periods. function pivots series wide format rank count columns per period, filters minimum count threshold, computes rank variation (previous rank minus current rank, positive values indicate improvement), returns top-k skills per profession.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_variation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute year-over-year variation in skill rankings — compute_skill_variation","text":"","code":"compute_skill_variation(serie, min_n = 30L, top_k = 10L)"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_variation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute year-over-year variation in skill rankings — compute_skill_variation","text":"serie data.table returned compute_skill_ranking_series(), columns professione, mese, skill, N, rango. min_n Integer, minimum count recent period skill included variation analysis. Default: 30L. top_k Integer, number top-ranked skills return per profession (recent rank). Default: 10L.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_skill_variation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute year-over-year variation in skill rankings — compute_skill_variation","text":"data.table wide format one row per profession-skill pair. Columns include professione, skill, rank count columns time period (named rango_<period> N_<period>), variazione (rank change previous current period).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_source_features.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute time-series features per source — compute_source_features","title":"Compute time-series features per source — compute_source_features","text":"Extract STL decomposition features tsibble produced prepare_source_tsibble(). Returns summary statistics (mean, sd, sum) together trend seasonality strength coefficient variation.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_source_features.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute time-series features per source — compute_source_features","text":"","code":"compute_source_features(tst)"},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_source_features.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute time-series features per source — compute_source_features","text":"tst tsibble returned prepare_source_tsibble(), column N key fonte.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/compute_source_features.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute time-series features per source — compute_source_features","text":"tibble one row per source containing columns: fonte, mea (mean), sd (standard deviation), sum (total), trend/seasonality strength feasts::feat_stl(), cv (coefficient variation = sd / mean).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/cooc_all_professions.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute skill co-occurrence networks for multiple professions — cooc_all_professions","title":"Compute skill co-occurrence networks for multiple professions — cooc_all_professions","text":"Iterates set professions calls internal .cooc_single() one, binding results single data.table professione identifier column.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/cooc_all_professions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute skill co-occurrence networks for multiple professions — cooc_all_professions","text":"","code":"cooc_all_professions(   skills,   professions = NULL,   group_col = \"preferredLabel\",   top_n = 30L,   min_weight = 10L )"},{"path":"https://gmontaletti.github.io/skillviz/reference/cooc_all_professions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute skill co-occurrence networks for multiple professions — cooc_all_professions","text":"skills data.table least columns general_id, escoskill_level_3, column named group_col. professions Optional character vector profession names process. NULL (default), unique values group_col used. group_col Character name column used identify professions. Defaults \"preferredLabel\". top_n Integer maximum number edges per profession (largest-component filtering). Defaults 30L. min_weight Integer minimum co-occurrence count. Defaults 10L.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/cooc_all_professions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute skill co-occurrence networks for multiple professions — cooc_all_professions","text":"data.table columns professione, , , weight. Professions producing valid edges silently dropped.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/cooc_all_professions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute skill co-occurrence networks for multiple professions — cooc_all_professions","text":"","code":"if (FALSE) { # \\dontrun{ skills <- data.table::data.table(   general_id = c(1, 1, 1, 2, 2, 3, 3, 3),   escoskill_level_3 = c(\"A\", \"B\", \"C\", \"A\", \"B\", \"A\", \"B\", \"C\"),   preferredLabel = rep(\"Analyst\", 8) ) cooc_all_professions(skills) } # }"},{"path":"https://gmontaletti.github.io/skillviz/reference/cooccorrenza.html","id":null,"dir":"Reference","previous_headings":"","what":"Skill co-occurrence network — cooccorrenza","title":"Skill co-occurrence network — cooccorrenza","text":"Pre-computed global skill co-occurrence edges relative-risk filtering applied. row represents pair skills co-occur job announcements expected baseline.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/cooccorrenza.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Skill co-occurrence network — cooccorrenza","text":"","code":"cooccorrenza"},{"path":"https://gmontaletti.github.io/skillviz/reference/cooccorrenza.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Skill co-occurrence network — cooccorrenza","text":"data.table columns: First skill pair Second skill pair weight Co-occurrence count (filtered relative risk > 1)","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/cooccorrenza.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Skill co-occurrence network — cooccorrenza","text":"Computed OJA data via crossprod term-document matrix","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/deduplicate_annunci.html","id":null,"dir":"Reference","previous_headings":"","what":"Deduplicate job announcements — deduplicate_annunci","title":"Deduplicate job announcements — deduplicate_annunci","text":"Collapse duplicate rows sharing general_id single row, keeping modal values categorical columns via collapse::fmode() computing activity flag based xdata.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/deduplicate_annunci.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deduplicate job announcements — deduplicate_annunci","text":"","code":"deduplicate_annunci(ann, active_date = Sys.Date())"},{"path":"https://gmontaletti.github.io/skillviz/reference/deduplicate_annunci.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Deduplicate job announcements — deduplicate_annunci","text":"ann data.table announcements. Must contain columns general_id, idcity, idesco_level_4, xdata. active_date IDate Date cutoff: announcements xdata >= active_date flagged active. Defaults Sys.Date().","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/deduplicate_annunci.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Deduplicate job announcements — deduplicate_annunci","text":"data.table one row per general_id columns: general_id, N (original row count), idcity (modal), idesco_level_4 (modal), attivo (1 row active, 0 otherwise).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/detect_skill_communities.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect skill communities from a co-occurrence edge list — detect_skill_communities","title":"Detect skill communities from a co-occurrence edge list — detect_skill_communities","text":"Builds igraph graph co-occurrence data.table (edge list , , weight columns) applies community detection algorithm. Supported methods: infomap, label propagation, walktrap, spinglass.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/detect_skill_communities.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect skill communities from a co-occurrence edge list — detect_skill_communities","text":"","code":"detect_skill_communities(cooc, method = \"infomap\")"},{"path":"https://gmontaletti.github.io/skillviz/reference/detect_skill_communities.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect skill communities from a co-occurrence edge list — detect_skill_communities","text":"cooc data.table columns , , weight representing co-occurrence edge list. Weights must positive. method Character, community detection method. One \"infomap\", \"label_prop\", \"walktrap\", \"spinglass\". Default: \"infomap\".","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/detect_skill_communities.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect skill communities from a co-occurrence edge list — detect_skill_communities","text":"named list : graph igraph graph object built edge list. communities community detection result object (class depends method used). membership named integer vector mapping vertex community ID.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/dot-cooc_single.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute skill co-occurrence for a single profession — .cooc_single","title":"Compute skill co-occurrence for a single profession — .cooc_single","text":"Builds sparse term-document matrix given profession, computes co-occurrence via Matrix::crossprod(), extracts top edges using igraph largest-component filter. workhorse behind cooc_all_professions().","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/dot-cooc_single.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute skill co-occurrence for a single profession — .cooc_single","text":"","code":".cooc_single(   professione,   data,   group_col = \"preferredLabel\",   top_n = 30L,   min_weight = 10L )"},{"path":"https://gmontaletti.github.io/skillviz/reference/dot-cooc_single.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute skill co-occurrence for a single profession — .cooc_single","text":"professione Character scalar identifying profession filter . data data.table least columns general_id, escoskill_level_3, column named group_col. group_col Character name column used identify professions. Defaults \"preferredLabel\". top_n Integer maximum number edges retain (largest-component filtering). Defaults 30L. min_weight Integer minimum co-occurrence count. Edges threshold dropped. Defaults 10L.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/dot-cooc_single.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute skill co-occurrence for a single profession — .cooc_single","text":"data.table columns , , weight. Returns empty data.table (zero rows, columns) profession data, single skill, edges min_weight.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_salary_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract announcements with salary information — extract_salary_data","title":"Extract announcements with salary information — extract_salary_data","text":"Filter job announcements positive salary value.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_salary_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract announcements with salary information — extract_salary_data","text":"","code":"extract_salary_data(ann)"},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_salary_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract announcements with salary information — extract_salary_data","text":"ann data.table announcements. Must contain column salaryvalue (numeric).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_salary_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract announcements with salary information — extract_salary_data","text":"data.table containing rows salaryvalue > 0.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_specific_skills_cpi3.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract non-diffuse skills at the CPI3 profession level — extract_specific_skills_cpi3","title":"Extract non-diffuse skills at the CPI3 profession level — extract_specific_skills_cpi3","text":"Merges job announcements skills CPI-ESCO crosswalk CPI 3-digit level. Skills classified highly diffuse (based IDF) removed, retaining profession-specific skills.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_specific_skills_cpi3.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract non-diffuse skills at the CPI3 profession level — extract_specific_skills_cpi3","text":"","code":"extract_specific_skills_cpi3(ann, ski, cpi_esco, quantile_trim = 0.025)"},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_specific_skills_cpi3.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract non-diffuse skills at the CPI3 profession level — extract_specific_skills_cpi3","text":"ann data.table announcements least columns general_id idesco_level_4. ski data.table skills least columns general_id escoskill_level_3. cpi_esco data.table crosswalk mapping idesco_level_4 cod_3 nome_3. Typically built crosswalk pipeline. quantile_trim Numeric, quantile threshold IDF diffusion classification. Default: 0.025.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_specific_skills_cpi3.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract non-diffuse skills at the CPI3 profession level — extract_specific_skills_cpi3","text":"data.table columns general_id, escoskill_level_3, cod_3, nome_3. non-diffuse (specific) skills included.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/extract_specific_skills_cpi3.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract non-diffuse skills at the CPI3 profession level — extract_specific_skills_cpi3","text":"pipeline reproduces logic extraction script: Merge announcements crosswalk idesco_level_4. Merge skills general_id. Compute document-level IDF, classify diffuse skills. Filter non-diffuse (\"specifiche\") skills.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_annunci_by_source.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter announcements to stable sources — filter_annunci_by_source","title":"Filter announcements to stable sources — filter_annunci_by_source","text":"Subset data.table announcements keeping rows whose source column matches one provided stable source names.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_annunci_by_source.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter announcements to stable sources — filter_annunci_by_source","text":"","code":"filter_annunci_by_source(ann, stable_sources)"},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_annunci_by_source.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter announcements to stable sources — filter_annunci_by_source","text":"ann data.table announcements source column. stable_sources Character vector source names keep, typically returned filter_stable_sources().","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_annunci_by_source.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter announcements to stable sources — filter_annunci_by_source","text":"data.table containing rows source stable_sources.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_relative_risk.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter a co-occurrence matrix by relative risk — filter_relative_risk","title":"Filter a co-occurrence matrix by relative risk — filter_relative_risk","text":"Given raw co-occurrence matrix (e.g. compute_cooc_matrix()), computes expected frequencies independence retains edges observed / expected > 1. diagonal upper triangle zeroed pair appears .","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_relative_risk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter a co-occurrence matrix by relative risk — filter_relative_risk","text":"","code":"filter_relative_risk(cooc_matrix)"},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_relative_risk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter a co-occurrence matrix by relative risk — filter_relative_risk","text":"cooc_matrix symmetric numeric matrix (dense sparse) co-occurrence counts, returned compute_cooc_matrix().","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_relative_risk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter a co-occurrence matrix by relative risk — filter_relative_risk","text":"data.table columns , , weight containing edges whose observed co-occurrence exceeds independence baseline. Edges sorted descending weight.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_relative_risk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter a co-occurrence matrix by relative risk — filter_relative_risk","text":"","code":"if (FALSE) { # \\dontrun{ mat <- compute_cooc_matrix(skills) rr_edges <- filter_relative_risk(mat) } # }"},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_stable_sources.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter sources by stability criteria — filter_stable_sources","title":"Filter sources by stability criteria — filter_stable_sources","text":"Select data sources whose coefficient variation cv_threshold whose total announcement count least min_total. Rows missing values excluded.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_stable_sources.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter sources by stability criteria — filter_stable_sources","text":"","code":"filter_stable_sources(features, cv_threshold = 0.6, min_total = 0L)"},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_stable_sources.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter sources by stability criteria — filter_stable_sources","text":"features tibble returned compute_source_features(). Must contain columns fonte, cv sum. cv_threshold Numeric maximum coefficient variation (default 0.6). min_total Integer minimum total announcement count across months (default 0, .e. minimum).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/filter_stable_sources.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter sources by stability criteria — filter_stable_sources","text":"character vector stable source names.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/isco_gruppi.html","id":null,"dir":"Reference","previous_headings":"","what":"ESCO ISCO group classification — isco_gruppi","title":"ESCO ISCO group classification — isco_gruppi","text":"Mapping table ESCO level 4 occupation codes profession names hierarchy labels.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/isco_gruppi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ESCO ISCO group classification — isco_gruppi","text":"","code":"isco_gruppi"},{"path":"https://gmontaletti.github.io/skillviz/reference/isco_gruppi.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ESCO ISCO group classification — isco_gruppi","text":"data.table columns: code ESCO occupation code preferredLabel Profession name (Italian) esco_v0101_hier_label_1 Hierarchy level 1 esco_v0101_hier_label_2 Hierarchy level 2 esco_v0101_hier_label_3 Hierarchy level 3","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/isco_gruppi.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"ESCO ISCO group classification — isco_gruppi","text":"ESCO classification v1.1","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/normalize_ojv.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize OJV data from ZIP files — normalize_ojv","title":"Normalize OJV data from ZIP files — normalize_ojv","text":"Reads three OJV file types (postings, skills, postings_raw) directory ZIP files, deduplicates postings one row per general_id, ensures referential integrity across tables.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/normalize_ojv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize OJV data from ZIP files — normalize_ojv","text":"","code":"normalize_ojv(path, years = NULL, months = NULL, verbose = TRUE)"},{"path":"https://gmontaletti.github.io/skillviz/reference/normalize_ojv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize OJV data from ZIP files — normalize_ojv","text":"path Character scalar. Directory containing ZIP files. years Integer vector years include, NULL (default) available years. Passed read_ojv_zip. months Integer vector months include, NULL (default) available months. Passed read_ojv_zip. verbose Logical scalar. TRUE (default), prints progress messages console.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/normalize_ojv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize OJV data from ZIP files — normalize_ojv","text":"named list three data.table elements, keyed general_id: postings Deduplicated job posting metadata (one row per general_id). skills Skill-level data, filtered general_id values present postings. companies Company name data postings_raw, filtered general_id values present postings.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/normalize_ojv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Normalize OJV data from ZIP files — normalize_ojv","text":"Deduplication keeps recent observation per general_id, determined year_grab_date month_grab_date columns (descending sort). columns absent, first occurrence kept.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/normalize_ojv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Normalize OJV data from ZIP files — normalize_ojv","text":"","code":"if (FALSE) { # \\dontrun{ ojv <- normalize_ojv(\"/path/to/zip/dir\") ojv$postings ojv$skills ojv$companies  # Filter to 2024 data only ojv24 <- normalize_ojv(\"/path/to/zip/dir\", years = 2024L) } # }"},{"path":"https://gmontaletti.github.io/skillviz/reference/parse_ymd_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse year/month/day columns into IDate — parse_ymd_columns","title":"Parse year/month/day columns into IDate — parse_ymd_columns","text":"Parse year/month/day columns IDate","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/parse_ymd_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse year/month/day columns into IDate — parse_ymd_columns","text":"","code":"parse_ymd_columns(dt, prefix, col_name)"},{"path":"https://gmontaletti.github.io/skillviz/reference/parse_ymd_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse year/month/day columns into IDate — parse_ymd_columns","text":"dt data.table year, month, day integer columns prefix Column prefix (e.g. \"grab_date\" \"expire_date\") col_name Name output IDate column","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/parse_ymd_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse year/month/day columns into IDate — parse_ymd_columns","text":"data.table added IDate column (modified reference)","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_cooc_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a skill co-occurrence network graph — plot_cooc_graph","title":"Plot a skill co-occurrence network graph — plot_cooc_graph","text":"Builds undirected graph co-occurrence edge data renders ggraph. Edge width transparency scale co-occurrence weight. Nodes labelled repelled text avoid overlap.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_cooc_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a skill co-occurrence network graph — plot_cooc_graph","text":"","code":"plot_cooc_graph(cooc_data, profession = NULL, layout = \"fr\")"},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_cooc_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a skill co-occurrence network graph — plot_cooc_graph","text":"cooc_data data.table (data.frame) columns , , weight representing pairwise skill co-occurrences. profession Optional character string. supplied, graph drawn profession name plot title. layout Character, graph layout algorithm passed ggraph::ggraph(). Default \"fr\" (Fruchterman-Reingold).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_cooc_graph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a skill co-occurrence network graph — plot_cooc_graph","text":"ggplot object produced ggraph.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_cooc_graph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot a skill co-occurrence network graph — plot_cooc_graph","text":"largest connected component plotted, isolated nodes disconnected sub-graphs dropped.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_skill_ranking.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot temporal skill ranking for a profession — plot_skill_ranking","title":"Plot temporal skill ranking for a profession — plot_skill_ranking","text":"Draws line chart showing skill ranks evolve time single profession. line represents skill; y-axis rank position x-axis time period.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_skill_ranking.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot temporal skill ranking for a profession — plot_skill_ranking","text":"","code":"plot_skill_ranking(serie, profession, skills = NULL)"},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_skill_ranking.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot temporal skill ranking for a profession — plot_skill_ranking","text":"serie data.table columns mese (date), skill (character), rango (integer rank), professione (character), N (count). Typically produced ranking computation step. profession Character, profession label filter . skills Optional character vector skill labels include. NULL (default), top 10 skills total count used.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_skill_ranking.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot temporal skill ranking for a profession — plot_skill_ranking","text":"ggplot object.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/plot_skill_ranking.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot temporal skill ranking for a profession — plot_skill_ranking","text":"skills NULL function selects 10 frequently occurring skills (summing counts across time periods).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_annunci_esco.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge announcements with ESCO mapping and parse dates — prepare_annunci_esco","title":"Merge announcements with ESCO mapping and parse dates — prepare_annunci_esco","text":"Joins announcements table ESCO mapping add Italian profession labels, parses year/month/day columns proper IDate fields.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_annunci_esco.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge announcements with ESCO mapping and parse dates — prepare_annunci_esco","text":"","code":"prepare_annunci_esco(ann, esco_mapping)"},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_annunci_esco.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge announcements with ESCO mapping and parse dates — prepare_annunci_esco","text":"ann data.table announcements columns idesco_level_4, year_grab_date, month_grab_date, day_grab_date, year_expire_date, month_expire_date, day_expire_date, general_id. esco_mapping data.table read_esco_mapping(), containing least idesco_level_4 esco_level_4.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_annunci_esco.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge announcements with ESCO mapping and parse dates — prepare_annunci_esco","text":"data.table added columns it_esco_level_4, gdate (grab date IDate), edate (expire date IDate). Deduplicated unique combinations general_id, gdate, idesco_level_4, it_esco_level_4.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_annunci_geography.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare announcements with CPI geographic dimension — prepare_annunci_geography","title":"Prepare announcements with CPI geographic dimension — prepare_annunci_geography","text":"Merges announcements ESCO labels territorial mapping table add CPI (Centro per l'Impiego) field, aggregates unique announcement counts CPI, profession, year.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_annunci_geography.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare announcements with CPI geographic dimension — prepare_annunci_geography","text":"","code":"prepare_annunci_geography(ann, esco_mapping, territoriale, regione = 10L)"},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_annunci_geography.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare announcements with CPI geographic dimension — prepare_annunci_geography","text":"ann data.table announcements columns idesco_level_4, idcity, general_id, year/month/day grab expire date columns. esco_mapping data.table read_esco_mapping(), containing least idesco_level_4 esco_level_4. territoriale data.table territorial classification. Must contain COD_ISTAT, CPI, COD_REGIONE_PAUT. regione Integer region code filter territorial table. Defaults 10L.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_annunci_geography.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare announcements with CPI geographic dimension — prepare_annunci_geography","text":"data.table columns CPI, it_esco_level_4, year_grab_date, N (unique announcement count), filtered complete cases ordered CPI, year, descending N.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_source_tsibble.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare a tsibble of announcement counts by source and month — prepare_source_tsibble","title":"Prepare a tsibble of announcement counts by source and month — prepare_source_tsibble","text":"Convert data.table job announcements tsibble keyed data source (fonte) indexed year-month, counting unique announcements per source per month.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_source_tsibble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare a tsibble of announcement counts by source and month — prepare_source_tsibble","text":"","code":"prepare_source_tsibble(ann)"},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_source_tsibble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare a tsibble of announcement counts by source and month — prepare_source_tsibble","text":"ann data.table announcements. Must contain columns general_id source. Also requires either gdate column (IDate) raw year/month/day columns used parse_ymd_columns().","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/prepare_source_tsibble.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare a tsibble of announcement counts by source and month — prepare_source_tsibble","text":"tsibble key fonte, index mese (yearmonth) column N (unique announcement count per source-month).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_esco_mapping.html","id":null,"dir":"Reference","previous_headings":"","what":"Read CPI-ESCO mapping table — read_esco_mapping","title":"Read CPI-ESCO mapping table — read_esco_mapping","text":"Read CPI--ESCO level 4 mapping either DBI database connection fst file disk.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_esco_mapping.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read CPI-ESCO mapping table — read_esco_mapping","text":"","code":"read_esco_mapping(conn = NULL, file = NULL)"},{"path":"https://gmontaletti.github.io/skillviz/reference/read_esco_mapping.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read CPI-ESCO mapping table — read_esco_mapping","text":"conn DBI connection object. provided, reads mappa_cpv_esco_iv table database. file Character path fst file containing mapping. Used conn NULL.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_esco_mapping.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read CPI-ESCO mapping table — read_esco_mapping","text":"data.table columns mapping table, including least idesco_level_4, esco_level_4, idcp_2011_v.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_isco_groups.html","id":null,"dir":"Reference","previous_headings":"","what":"Read ESCO ISCO classification from CSV directory — read_isco_groups","title":"Read ESCO ISCO classification from CSV directory — read_isco_groups","text":"Reads ISCOGroups CSV file ESCO classification dataset directory returns data.table.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_isco_groups.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read ESCO ISCO classification from CSV directory — read_isco_groups","text":"","code":"read_isco_groups(esco_dir)"},{"path":"https://gmontaletti.github.io/skillviz/reference/read_isco_groups.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read ESCO ISCO classification from CSV directory — read_isco_groups","text":"esco_dir Character path ESCO dataset directory (e.g. \"ESCO dataset - v1.1.1 - classification - - csv\"). function looks file matching ISCOGroups*.csv inside directory.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_isco_groups.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read ESCO ISCO classification from CSV directory — read_isco_groups","text":"data.table ISCO group classification columns including code preferredLabel.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_ojv_zip.html","id":null,"dir":"Reference","previous_headings":"","what":"Read OJV data from ZIP files — read_ojv_zip","title":"Read OJV data from ZIP files — read_ojv_zip","text":"Reads Online Job Vacancy (OJV) data directory ZIP files following ITC4 naming convention. ZIP file contains single CSV read directly via piped unzip -p without extracting disk.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_ojv_zip.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read OJV data from ZIP files — read_ojv_zip","text":"","code":"read_ojv_zip(   path,   type = c(\"postings\", \"skills\", \"postings_raw\"),   years = NULL,   months = NULL,   select = NULL,   nrows = Inf,   verbose = TRUE )"},{"path":"https://gmontaletti.github.io/skillviz/reference/read_ojv_zip.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read OJV data from ZIP files — read_ojv_zip","text":"path Character scalar. Directory containing ZIP files. type Character scalar. File type read: one \"postings\", \"skills\", \"postings_raw\". Defaults \"postings\". years Integer vector years include, NULL (default) available years. months Integer vector months include, NULL (default) available months. select Character vector column names read, passed fread's select argument. NULL (default) reads columns. nrows Numeric scalar. Maximum number rows read per file, passed fread's nrows argument. Default Inf reads rows. verbose Logical scalar. TRUE (default), prints progress messages console.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_ojv_zip.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read OJV data from ZIP files — read_ojv_zip","text":"data.table containing row-bound contents matching ZIP files. Returns empty data.table matching files found.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_ojv_zip.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read OJV data from ZIP files — read_ojv_zip","text":"ZIP files expected follow naming pattern ITC4_{year}_{month}_{type}.zip type one \"postings\", \"skills\", \"postings_raw\". function uses data.table::fread() cmd argument pipe unzip -p output directly, avoiding temporary file extraction. efficient large CSV files compressed inside ZIP archives. three file types correspond different OJV datasets: postings Job posting metadata including location, contract, education, sector, salary, occupation classification columns. skills Skill-level data linked postings via general_id, including ESCO skill taxonomy fields. postings_raw Minimal posting data company name.","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/read_ojv_zip.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read OJV data from ZIP files — read_ojv_zip","text":"","code":"if (FALSE) { # \\dontrun{ # Read all postings data dt <- read_ojv_zip(\"/path/to/zip/dir\", type = \"postings\")  # Read skills for 2023, months 1-6, selected columns only sk <- read_ojv_zip(   \"/path/to/zip/dir\",   type = \"skills\",   years = 2023L,   months = 1:6,   select = c(\"general_id\", \"ESCOSKILL_LEVEL_3\", \"ESCO_V0101_REUSETYPE\") )  # Read first 1000 rows per file for exploration sample <- read_ojv_zip(\"/path/to/zip/dir\", type = \"postings\", nrows = 1000) } # }"},{"path":"https://gmontaletti.github.io/skillviz/reference/skillist.html","id":null,"dir":"Reference","previous_headings":"","what":"Master skills list — skillist","title":"Master skills list — skillist","text":"Pre-computed skills metadata including frequency, reuse type, domain flags (soft-skills, ICT, green, language).","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/skillist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Master skills list — skillist","text":"","code":"skillist"},{"path":"https://gmontaletti.github.io/skillviz/reference/skillist.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Master skills list — skillist","text":"data.table columns: escoskill_level_3 Skill identifier (ESCO level 3) esco_v0101_reusetype Reuse type: sector-specific, transversal, occupation-specific, multisettoriale N Recurrence count across announcements tipo Mapped Italian type: settoriale, trasversale, specifico, multisettoriale pillar_softskills Soft-skill flag esco_v0101_ict ICT skill flag esco_v0101_green Green skill flag esco_v0101_language Language skill flag","code":""},{"path":"https://gmontaletti.github.io/skillviz/reference/skillist.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Master skills list — skillist","text":"Computed OJA data via Lightcast/EMSI","code":""}]
